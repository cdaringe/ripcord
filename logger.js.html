<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>logger.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-app.html">app</a></li><li><a href="module-logger.html">logger</a><ul class='methods'><li data-type='method'><a href="module-logger.html#.debug">debug</a></li><li data-type='method'><a href="module-logger.html#.error">error</a></li><li data-type='method'><a href="module-logger.html#.info">info</a></li><li data-type='method'><a href="module-logger.html#.setLogLevel">setLogLevel</a></li><li data-type='method'><a href="module-logger.html#.verbose">verbose</a></li><li data-type='method'><a href="module-logger.html#.warn">warn</a></li></ul></li><li><a href="module-ripcord.html">ripcord</a><ul class='methods'><li data-type='method'><a href="module-ripcord.html#.counsel">counsel</a></li><li data-type='method'><a href="module-ripcord.html#.docs">docs</a></li><li data-type='method'><a href="module-ripcord.html#.licenses">licenses</a></li><li data-type='method'><a href="module-ripcord.html#.report">report</a></li><li data-type='method'><a href="module-ripcord.html#.scmcycle">scmcycle</a></li><li data-type='method'><a href="module-ripcord.html#.syncPackages">syncPackages</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">logger.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict'

/**
 * @module logger
 * @description provide colorified console-only logging interface
 */

const chalk = require('chalk')
const readline = require('readline')

/* istanbul ignore next */
module.exports = {

  _logLevel: 2,

  /**
   * @property progressMode
   * @type boolean
   * @description all stdout writes will clear current line and write back into
   * it. toggle it ad-hoc to use for a progress bar.
   */
  progressMode: false,

  /**
   * set the log level, using npm world-style log levels
   * @param {string} level ['error', 'warn', 'info', 'verbose', 'debug']
   */
  setLogLevel (level) {
    if (level.toLowerCase() === 'silent') {
      this._logLevel = -1
      return
    }
    const levels = ['error', 'warn', 'info', 'verbose', 'debug']
    this._logLevel = levels.indexOf(level)
    if (this._logLevel === -1) {
      throw new Error([
        `could not find matching log level for: ${level}.`,
        `valid levels: ${levels.join(', ')}`
      ].join(' '))
    }
  },

  /**
   * @param {...any} args
   * @returns undefined
   */
  error (...args) {
    if (this._logLevel === 0) return
    this._log('stderr', chalk.bold.red, ...args)
  },

  /**
   * @param {...any} args
   * @returns undefined
   */
  warn (...args) {
    if (this._logLevel &lt; 1) return
    this._log('stdout', chalk.yellow, ...args)
  },

  /**
   * @param {...any} args
   * @returns undefined
   */
  info (...args) {
    if (this._logLevel &lt; 2) return
    this._log('stdout', chalk.blue, ...args)
  },

  /**
   * @param {...any} args
   * @returns undefined
   */
  verbose (...args) {
    if (this._logLevel &lt; 3) return
    this._log('stdout', chalk.bold.cyan, ...args)
  },

  /**
   * @param {...any} args
   * @returns undefined
   */
  debug (...args) {
    if (this._logLevel &lt; 3) return
    this._log('stdout', chalk.bold.cyan, ...args)
  },

  /**
   * @private
   */
  _log (streamName, colorFn, ...args) {
    if (this._logLevel === -1) return
    if (streamName === 'stderr') {
      ;[ ...args ].forEach(msg => console.error(colorFn(msg)))
      return
    }
    if (this.progressMode) {
      readline.clearLine(process.stdout)
      readline.cursorTo(process.stdout, 0)
      process.stdout.write(args[0])
      return
    }
    console.log.apply(console, [ ...args ].map(msg => colorFn(msg)))
  }
}
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
